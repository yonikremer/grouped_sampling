{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Create a Completion{% endblock %}</h1>
    <br>
    <a href="{{ url_for('model.view_all') }}">See all available models</a>
{% endblock %}

{% block content %}
    <form method="post">
        <label for="model_name">Enter the name of the model you choose</label>
        <input id="model_name" name="model_name" placeholder="gpt2" type="text" value="{{ request.form['model_name']}}">

        <label for="group_size">Enter the group size, positive integer</label>
        <input id="group_size" name="group_size" type="number" value="{{ request.form['group_size']}}" required min="1" step="1">

        <label for="num_tokens">Enter the number of tokens of the completion, positive integer</label>
        <input id="num_tokens" name="num_tokens" type="number" value="{{ request.form['num_tokens']}}" required min="1" step="1">

        <label for="top_k">Enter top k, positive integer</label>
        <input id="top_k" name="top_k" type="number" value="{{ request.form['top_k']}}" min="1" step="1">

        <label for="top_p">Enter top p, 1 >= top p >= 0</label>
        <input id="top_p" name="top_p" type="number" value="{{ request.form['top_p']}}" min="0" max="1">

        <label for="temperature">Enter a temperature, temperature > 0</label>
        <input id="temperature" name="temperature" placeholder=1 type="number" value="{{ request.form['temperature']}}" min="0.01">
        {#    setting the minmum temperature to 0.01 (and not 0) to prevent underflow  #}

        <input type="radio" name="generation_type" id="sampling" value="sampling"> sampling </input>
        <input type="radio" name="generation_type" id="tree" value="tree"> tree </input>

        <label for="prompt">Enter your prompt</label>
        <textarea name="prompt" id="prompt" required>{{ request.form["prompt"] }} </textarea>

        <label for="save">Complete</label>
        <input type="submit" value="save" id="save">
    </form>
{% endblock %}